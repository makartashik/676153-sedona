var search=document.querySelector(".search-section-container"),button=search.querySelector(".search-section-button"),blockForm=document.querySelector(".modal-search-form"),form=document.querySelector(".search-form"),arrival=form.querySelector("[name=arrival-date]"),depart=form.querySelector("[name=departure-date]"),adults=form.querySelector("[name=adults-amount]"),child=form.querySelector("[name=child-amount]"),isStorageSupport=!0,storageAd="",storageCh="",lessFirst=document.querySelector("[id=less-first]"),lessSecond=document.querySelector("[id=less-second]"),moreFirst=document.querySelector("[id=more-first]"),moreSecond=document.querySelector("[id=more-second]");try{storageAd=localStorage.getItem("adults"),storageCh=localStorage.getItem("child")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),blockForm.classList.toggle("modal-form-show"),arrival.focus(),storageAd&&(adults.value=storageAd),storageCh&&(child.value=storageCh)}),form.addEventListener("submit",function(e){arrival.value&&depart.value&&adults.value&&child.value?(isStorageSupport&&localStorage.setItem("adults",adults.value),isStorageSupport&&localStorage.setItem("child",child.value)):(e.preventDefault(),console.log("Заполните, пожалуйста, все поля"),blockForm.classList.remove("form-error"),blockForm.offsetWidth=blockForm.offsetWidth,blockForm.classList.add("form-error"))}),lessFirst.addEventListener("click",function(e){e.preventDefault();var t=parseInt(adults.value,10);2<=adults.value&&(adults.value=t-1)}),lessSecond.addEventListener("click",function(e){e.preventDefault();var t=parseInt(child.value,10);1<=child.value&&(child.value=t-1)}),moreFirst.addEventListener("click",function(e){e.preventDefault(),adults.value||(adults.value=0);var t=parseInt(adults.value,10);adults.value=t+1}),moreSecond.addEventListener("click",function(e){e.preventDefault(),child.value||(child.value=0);var t=parseInt(child.value,10);child.value=t+1});

var search=document.querySelector(".search-section-container"),button=search.querySelector(".search-section-button"),blockForm=document.querySelector(".modal-search-form"),form=document.querySelector(".search-form"),arrival=form.querySelector("[name=arrival-date]"),depart=form.querySelector("[name=departure-date]"),adults=form.querySelector("[name=adults-amount]"),child=form.querySelector("[name=child-amount]"),isStorageSupport=!0,storageAd="",storageCh="",adultsLess=document.querySelector("[id=adults-less]"),childLess=document.querySelector("[id=child-less]"),adultsMore=document.querySelector("[id=adults-more]"),childMore=document.querySelector("[id=child-more]");try{storageAd=localStorage.getItem("adults"),storageCh=localStorage.getItem("child")}catch(e){isStorageSupport=!1}button.addEventListener("click",function(e){e.preventDefault(),blockForm.classList.toggle("modal-form-show"),arrival.focus(),storageAd&&(adults.value=storageAd),storageCh&&(child.value=storageCh)}),form.addEventListener("submit",function(e){arrival.value&&depart.value&&adults.value&&child.value?(isStorageSupport&&localStorage.setItem("adults",adults.value),isStorageSupport&&localStorage.setItem("child",child.value)):(e.preventDefault(),console.log("Заполните, пожалуйста, все поля"),blockForm.classList.remove("form-error"),blockForm.offsetWidth=blockForm.offsetWidth,blockForm.classList.add("form-error"))}),adultsLess.addEventListener("click",function(e){e.preventDefault();var t=parseInt(adults.value,10);2<=t&&(adults.value=t-1)}),childLess.addEventListener("click",function(e){e.preventDefault();var t=parseInt(child.value,10);1<=t&&(child.value=t-1)}),adultsMore.addEventListener("click",function(e){e.preventDefault();var t=parseInt(adults.value,10);t||(t=0),adults.value=t+1}),childMore.addEventListener("click",function(e){e.preventDefault();var t=parseInt(child.value,10);t||(t=0),child.value=t+1});
